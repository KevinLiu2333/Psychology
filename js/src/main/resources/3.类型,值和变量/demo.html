<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>类型,值和变量</title>
    <script src="../js/jquery.min.js"></script>
    <script>
        $(function () {
            variableScope();
        });

        function date() {
            var then = new Date(2012, 0, 3);//2011年1月3日
            var later = new Date(2012, 0, 3, 12, 39, 40);
            var now = new Date();
            var elapsed = now - then;//日期减法,计算时间间隔的毫秒数
            alert(elapsed);
            alert(later.getFullYear());
            alert(later.getMonth());
            alert(later.getDate());//从1开始计数的天数
            alert(later.getDay());
            alert(later.getHours());
            alert(later.getUTCHours());//基于时区

        }

        function str(s) {
            alert(s.charAt(0));
            alert(s.charAt(s.length - 1));
            alert(s.substring(1, 4));
            alert(s.slice(1, 4));
            alert(s.slice(-3));
            alert(s.indexOf("l"));
            alert(s.lastIndexOf("l"));
            alert(s.indexOf("l", 3));//位置3以及之后第一次出现"l"的位置
            alert(s.split(","));
            alert(s.replace("H", "h"));
            alert(s.toUpperCase());
            alert(s[0]);
        }

        function regex() {
            var text = "testing:1,2,3";//文本示例
            var pattern = /\d+/g;//匹配所有包含一个或多个数字的实例 +表示一个或多个/g--全局匹配
            alert(pattern.test(text));//测试是否匹配,返回boolean
            alert(text.search(pattern));//首次匹配成功的位置
            alert(text.match(pattern));//所有匹配组成的数组
            alert(text.replace(pattern, "#"));//将匹配上的元素改为#
            alert(text.split(/\D+/));//["","1","2","3"]:用非数字字符截取字符串


        }

        function math() {
            //幂
            alert(Math.pow(2, 4));
            //四舍五入
            alert(Math.round(2.4));
            //向上求整
            alert(Math.ceil(2.4));
            //向下求整
            alert(Math.floor(2.8));
            //绝对值
            alert(Math.abs(-5));
            //最大最小值
            alert(Math.max(2, 4));
            alert(Math.min(2, 4));
            //大于0小于1的数
            alert(Math.random());
            //圆周率
            alert(Math.PI);
            //自然数
            alert(Math.E);
            //平方根
            alert(Math.sqrt(4));
            //立方根
            alert(Math.pow(27, 1 / 3));
            //三角函数
            alert(Math.sin(0));
        }

        function boolean() {
            var a = 3;
            alert(true.toString());
            alert(false.toString());
            alert(a === undefined);
            alert(a === null);
            alert(isNaN(a));
        }

        function nullandundifined() {
            var s = "test";
        }

        function packageObj() {
            var o = {x: 1};//定义一个对象
            o.x = 2;//通过修改对象属性值来更改对象
            o.y = 3;//再次更改这个对象,给它增加一个新的属性

            var a = [1, 2, 3];//数组也是可以修改的
            a[0] = 0;//更改数组的一个元素
            a[3] = 4;//给数组增加一个新的元素
            //对象的比较并非值的比较,即使两个对象包含同样的属性及相同的值,它们也是不相等的.各个索引元素完全相等的两个数组也不相等.
            var x = {x: 2};
            var y = {x: 2};
            alert(x === y);//false
        }

        function typeChange() {
            //用 == 做比较时,会出现类型转换
            alert(null == undefined);
            alert("0" == 0);
            alert(0 == false);
            alert(0 == false);
            var x = 3;
            alert(typeof x);
            x = x + "";//等价于String(x)
            alert(typeof x);
            x = +x;//等价于Number(x).也可以写成x-0
            alert(typeof x);
            x = !!x;//等价于Boolean(x).注意是感叹号
            alert(typeof x);
            var n = 17;
            //根据不同进制,将数字转换成字符串
            var binary_string = n.toString(2);
            alert(binary_string);
            var octal_string = "0" + n.toString(8);
            alert(octal_string);
            var hex_string = "0x" + n.toString(16);
            alert(hex_string);
            //精度变换
            var n = 123456.789;
            alert(n.toFixed(0));//不保留小数
            alert(n.toFixed(2));//保留两位小数
            alert(n.toFixed(5));//保留五位小数
            alert(n.toExponential(1));//
            alert(n.toExponential(5));
            alert(n.toPrecision(4));//四位精度
            alert(n.toPrecision(7));//七位精度
            alert(n.toPrecision(10));//十位精度
        }

        //函数体内,局部变量高于全局变量
        function variableScope() {
            var scope = "global";

            function checkScope() {
                var scope = "local";
                //优先选取局部变量
                return scope;
            }
            alert(checkScope());//local
            scope = "global";
            function checkScope2() {
                scope = "local";
                myscope = "local";
                return [scope,myscope];
            }
            alert(checkScope2());
            alert(scope);
            alert(myscope);

        }
    </script>
</head>
<body>

</body>
</html>