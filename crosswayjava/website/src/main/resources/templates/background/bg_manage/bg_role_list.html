<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>角色列表</title>
<link rel="stylesheet" href="/css/bootstrap.css" />
<link rel="stylesheet" href="/css/css.css" />
<link href="/css/zzsc.css" type="text/css" rel="stylesheet"/>
<script src="/js/jquery.js" type="text/javascript"></script>
<script src="/js/tabletoExcel.js" type="text/javascript"></script>
<script type="text/javascript">
$(function(){
	$(".subNav").click(function(){
			$(this).toggleClass("currentDd").siblings(".subNav").removeClass("currentDd")
			$(this).toggleClass("currentDt").siblings(".subNav").removeClass("currentDt")
		 
	});
	
	$("#goto").click(function(){
		var currentPage = $("#currentPage").html();
		var totalPage = $("#totalPage").html();
		var gotoPage = $("#gotoPage").val();
		if(gotoPage<=0 || gotoPage > totalPage) {
			window.location.href ='/manage/order/roleList?pageNum='+currentPage;
		} else {
			window.location.href = '/manage/order/roleList?pageNum='+gotoPage;
		}	
	});
	
	var msg = $("#input_hidden").val();
	if(msg != null) {
		alert(msg);
	}
	
})
</script>
</head>

<body>
<input id="input_hidden" type="hidden" th:value="${msg}" th:if="${msg} != null"/>
<div th:include="background/bg_common/bg_head"></div>
<!-- 顶部 -->              
<div id="middle">
     <div class="left">
<!-- 代码 开始 -->
<div th:include="background/bg_common/bg_nav"></div>
<!-- 代码 结束 -->


     </div>

     <div class="right"  id="mainFrame">
     
     <div class="right_cont">
 <ul class="breadcrumb">当前位置：
  角色列表
</ul>
<div class="serch_right" style=" padding:20px 0;"><a href="/manage/order/toAddRole"><input type="button" value="添加角色+" class="btn btn-info " style="width:100px; float:left;" /></a></div>  
   <input type="button" value="角色导出" onclick="tabletoExcel();"/>
   <table id="tb2" class="table table-bordered table-striped table-hover">
     <tbody>
       <tr align="center">
         <th width="11%" nowrap="nowrap">角色ID</th>                  
         <th width="13%" nowrap="nowrap">角色名称</th>           
         <th width="55%" nowrap="nowrap">角色权限</th>           
         <th width="21%" nowrap="nowrap">操作</th>                            
       </tr>
            
       <tr align="center" th:each="role:${roleList}"  th:if="${role} != null">
         <td nowrap="nowrap"><span th:text="${role.roleId}">1</span></td>
         <td nowrap="nowrap"><span th:text="${role.roleName}">物流</span></td>
         <td nowrap="nowrap">            
             <div class="role_list" th:each="bgAuthorityList:${role.authorityIdList}" th:if="${bgAuthorityList} != null">
               <div class="role_title">
               		<span th:each="bgAuthority:${bgAuthorityList}" th:if="${bgAuthority} != null">
		             	<span th:text="${bgAuthority.authorityname}+':'" th:if="${#strings.length(bgAuthority.authorityid) == 2}">订单编辑：</span>
		             </span>
		       </div>
               <div class="role_evli">
	               <ul>
	               		<li th:each="bgAuthority:${bgAuthorityList}" th:if="${bgAuthority} != null">
	               			<span th:text="${bgAuthority.authorityname}" th:if="${#strings.length(bgAuthority.authorityid)== 4}">
	               			</span>
	               		</li>
	               </ul>
               </div> 
             </div>
          </td>
          <td nowrap="nowrap">
	         <a th:href="'/manage/order/toAddRole?roleId='+${role.roleId}">修改</a>&nbsp;&nbsp;
	         <a th:href="'/manage/order/deleteRole?roleId='+${role.roleId}">删除</a>
          </td>
        </tr>                                            
     </tbody>
   </table>
	<div class="fan">
		<a th:href="'/manage/order/roleList?pageNum=1'">首页</a>&nbsp;&nbsp;&nbsp;
		<a th:href="'/manage/order/roleList?pageNum='+(${pageInfo.pageNum}==1?1:(${pageInfo.pageNum}-1))">上一页</a>&nbsp;&nbsp;&nbsp;
		<a th:href="'/manage/order/roleList?pageNum='+(${pageInfo.pageNum}==${pageInfo.pages}?${pageInfo.pages}:(${pageInfo.pageNum}+1))">下一页</a>&nbsp;&nbsp;&nbsp;
		<a th:href="'/manage/order/roleList?pageNum='+${pageInfo.pages}">尾页</a>&nbsp;&nbsp;&nbsp;页次：
		<span id="currentPage" th:text="${pageInfo.pageNum}">1</span>/<span id="totalPage" th:text="${pageInfo.pages}">1</span>&nbsp;&nbsp;&nbsp;转到：
		<input id="gotoPage" name="" type="number" min="1" class="fan_text"/>&nbsp;页&nbsp;&nbsp;&nbsp;
		<input id="goto" name="" type="button" value="GO"/>
	</div>   
     </div>     
     </div>
    </div>
</body>
</html>
